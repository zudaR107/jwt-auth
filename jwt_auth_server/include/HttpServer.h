#pragma once
#include "extern/httplib.h"

/**
 * @brief Класс для запуска HTTP-сервера авторизации.
 *
 * Этот класс реализует REST API сервер с маршрутами:
 * - `POST /register` — регистрация нового пользователя.
 * - `POST /login` — аутентификация пользователя, выдача access и refresh токенов.
 * - `POST /refresh` — обновление access токена по действующему refresh токену.
 * - `GET /secure/data` — доступ к защищённым данным по access токену.
 * - `POST /logout` — добавление refresh токена в blacklist.
 *
 * Сервер построен на базе библиотеки `cpp-httplib` и поддерживает CORS.
 */
class HttpServer {
public:
    /**
     * @brief Запускает HTTP-сервер на заданном порту.
     *
     * Все маршруты, связанные с авторизацией, автоматически настраиваются внутри функции.
     * Также активируется логгирование запросов и включается поддержка CORS.
     *
     * @param port Порт, на котором будет слушать сервер (по умолчанию: 8080).
     */
    static void start(int port = 8080);
};
